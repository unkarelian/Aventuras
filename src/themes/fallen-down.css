/* =============================================
   FALLEN DOWN THEME
   Undertale/Deltarune inspired pixel aesthetic
   ============================================= */
[data-theme="fallen-down"] {
  /* Undertale color palette */
  --color-ut-black: #000000;
  --color-ut-white: #FFFFFF;
  --color-ut-yellow: #FFFF00;
  --color-ut-red: #FF0000;
  --color-ut-orange: #FFA500;
  --color-ut-gray: #808080;
  --color-ut-dark-gray: #333333;

  /* Surface colors - pure black for authentic Undertale void */
  --color-surface-50: #FFFFFF;
  --color-surface-100: #E0E0E0;
  --color-surface-200: #C0C0C0;
  --color-surface-300: #A0A0A0;
  --color-surface-400: #808080;
  --color-surface-500: #404040;
  --color-surface-600: #1a1a1a;
  --color-surface-700: #0a0a0a;
  --color-surface-800: #000000;
  --color-surface-850: #000000;
  --color-surface-900: #000000;
  --color-surface-950: #000000;

  /* Accent colors (yellow scale) */
  --color-accent-50: #FFFFF0;
  --color-accent-100: #FFFFE0;
  --color-accent-200: #FFFFC0;
  --color-accent-300: #FFFF80;
  --color-accent-400: #FFFF00;
  --color-accent-500: #E6E600;
  --color-accent-600: #CCCC00;
  --color-accent-700: #999900;
  --color-accent-800: #666600;
  --color-accent-900: #333300;
  --color-accent-950: #1A1A00;

  /* Semantic colors */
  --bg-primary: var(--color-ut-black);
  --bg-secondary: var(--color-ut-black);
  --bg-tertiary: var(--color-ut-dark-gray);
  --text-primary: var(--color-ut-white);
  --text-secondary: #C0C0C0;
  --text-muted: var(--color-ut-gray);
  --text-accent: var(--color-ut-yellow);
  --border-primary: var(--color-ut-white);
  --border-secondary: var(--color-ut-gray);

  /* Scrollbar */
  --scrollbar-track: var(--color-ut-black);
  --scrollbar-thumb: var(--color-ut-white);
  --scrollbar-thumb-hover: var(--color-ut-yellow);

  /* Special undertale effects */
  --ut-border: 4px solid var(--color-ut-white);
  --ut-heart-color: var(--color-ut-red);
  --ut-action-color: var(--color-ut-orange);

  /* Typography - VT323 pixel font */
  --font-story: 'VT323', 'Share Tech Mono', monospace;

  /* Shadcn Variables (Fallen Down) */
  --radius: 0;
  --background: hsl(0 0% 0%);
  --foreground: hsl(0 0% 100%);
  --card: hsl(0 0% 0%);
  --card-foreground: hsl(0 0% 100%);
  --popover: hsl(0 0% 0%);
  --popover-foreground: hsl(0 0% 100%);
  --primary: hsl(60 100% 50%);
  --primary-foreground: hsl(0 0% 0%);
  --secondary: hsl(0 0% 10%);
  --secondary-foreground: hsl(0 0% 100%);
  --muted: hsl(0 0% 20%);
  --muted-foreground: hsl(0 0% 75%);
  --accent: hsl(60 100% 50%);
  --accent-foreground: hsl(0 0% 0%);
  --destructive: hsl(0 100% 50%);
  --destructive-foreground: hsl(0 0% 100%);
  --border: hsl(0 0% 100%);
  --input: hsl(0 0% 100%);
  --ring: hsl(60 100% 50%);

  /* CRT Effects */
  --crt-scanline: transparent;
  --crt-glow: none;
  --crt-flicker: none;
}

/* Undertale soul float animation */
@keyframes ut-soul-float {
  0%,
  100% {
    transform: translateY(0px);
  }

  50% {
    transform: translateY(-5px);
  }
}

/* Undertale heart blink animation */
@keyframes ut-heart-blink {
  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0;
  }
}

[data-theme="fallen-down"] .ut-soul-float {
  animation: ut-soul-float 2s infinite ease-in-out;
}

[data-theme="fallen-down"] .ut-heart-blink {
  animation: ut-heart-blink 1s step-end infinite;
}

/* Pixel border overrides for cards and panels */
[data-theme="fallen-down"] .card,
[data-theme="fallen-down"] .panel {
  border: 4px solid white;
  border-radius: 0;
  background-color: black;
}

/* Input styling */
[data-theme="fallen-down"] .input,
[data-theme="fallen-down"] select.input {
  border: 2px solid white;
  border-radius: 0;
  background-color: black;
  color: white;
}

[data-theme="fallen-down"] .input:focus,
[data-theme="fallen-down"] select.input:focus {
  border-color: #FFFF00;
  outline: none;
  box-shadow: none;
  --tw-ring-shadow: none;
}

[data-theme="fallen-down"] .input::placeholder {
  color: #808080;
}

/* Button styling */
[data-theme="fallen-down"] .btn {
  border: 2px solid white;
  border-radius: 0;
  background-color: black;
  color: white;
  text-transform: uppercase;
  letter-spacing: 0.1em;
}

[data-theme="fallen-down"] .btn:hover {
  background-color: white;
  color: black;
}

[data-theme="fallen-down"] .btn-primary {
  border-color: #FFFF00;
  color: #FFFF00;
}

[data-theme="fallen-down"] .btn-primary:hover {
  background-color: #FFFF00;
  color: black;
}

/* Sidebar styling */
[data-theme="fallen-down"] .sidebar {
  border-right: 4px solid white !important;
  background-color: #000000 !important;
}

[data-theme="fallen-down"] .sidebar-container {
  background-color: #000000 !important;
}

/* Modal styling */
[data-theme="fallen-down"] .modal-content {
  border: 4px solid white;
  border-radius: 0;
  background-color: black;
}

/* Selection styling */
[data-theme="fallen-down"] ::selection {
  background-color: #FFFF00;
  color: black;
}

/* Scrollbar styling */
[data-theme="fallen-down"] ::-webkit-scrollbar {
  width: 12px;
}

[data-theme="fallen-down"] ::-webkit-scrollbar-track {
  background: black;
  border-left: 2px solid white;
}

[data-theme="fallen-down"] ::-webkit-scrollbar-thumb {
  background: white;
  border: 2px solid black;
}

[data-theme="fallen-down"] ::-webkit-scrollbar-thumb:hover {
  background: #FFFF00;
}

/* Story text styling */
[data-theme="fallen-down"] .story-text,
[data-theme="fallen-down"] .narration {
  font-family: 'VT323', 'Share Tech Mono', monospace;
}

/* Select dropdown styling */
[data-theme="fallen-down"] select.input {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23FFFF00' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
}

[data-theme="fallen-down"] select.input option {
  background-color: black;
  color: white;
}

[data-theme="fallen-down"] select.input option:checked {
  background-color: #FFFF00;
  color: black;
}

/* Override Tailwind classes for fallen-down theme */
[data-theme="fallen-down"] .bg-surface-950,
[data-theme="fallen-down"] .bg-surface-900,
[data-theme="fallen-down"] .bg-surface-850,
[data-theme="fallen-down"] .bg-surface-800,
[data-theme="fallen-down"] .bg-surface-700 {
  background-color: #000000 !important;
}

[data-theme="fallen-down"] .bg-surface-600 {
  background-color: #0a0a0a !important;
}

[data-theme="fallen-down"] .bg-surface-500 {
  background-color: #1a1a1a !important;
}

[data-theme="fallen-down"] .text-surface-50 {
  color: #FFFFFF !important;
}

[data-theme="fallen-down"] .text-surface-100 {
  color: #FFFFFF !important;
}

[data-theme="fallen-down"] .text-surface-200 {
  color: #E0E0E0 !important;
}

[data-theme="fallen-down"] .text-surface-300 {
  color: #C0C0C0 !important;
}

[data-theme="fallen-down"] .text-surface-400 {
  color: #808080 !important;
}

[data-theme="fallen-down"] .text-surface-500 {
  color: #606060 !important;
}

[data-theme="fallen-down"] .border-surface-700 {
  border-color: #FFFFFF !important;
}

[data-theme="fallen-down"] .border-surface-600 {
  border-color: #808080 !important;
}

/* Accent colors - all yellow, no blue */
[data-theme="fallen-down"] .bg-accent-500 {
  background-color: #FFFF00;
}

[data-theme="fallen-down"] .bg-accent-600 {
  background-color: #FFFF00;
}

[data-theme="fallen-down"] .bg-accent-700 {
  background-color: #E6E600;
}

[data-theme="fallen-down"] .text-accent-400 {
  color: #FFFF00;
}

[data-theme="fallen-down"] .text-accent-500 {
  color: #FFFF00;
}

[data-theme="fallen-down"] .text-accent-600 {
  color: #FFFF00;
}

/* Focus rings - yellow instead of blue */
[data-theme="fallen-down"] .ring-accent-500 {
  --tw-ring-color: #FFFF00;
}

[data-theme="fallen-down"] .focus\:ring-accent-500:focus {
  --tw-ring-color: #FFFF00;
}

[data-theme="fallen-down"] *:focus {
  outline-color: #FFFF00;
}

[data-theme="fallen-down"] [class*="focus:ring"] {
  --tw-ring-color: #FFFF00 !important;
}

/* Override ALL blue colors to yellow (Undertale has no blue UI) */
[data-theme="fallen-down"] .text-blue-400,
[data-theme="fallen-down"] .text-blue-500,
[data-theme="fallen-down"] .text-blue-600 {
  color: #FFFF00;
}

[data-theme="fallen-down"] .bg-blue-400,
[data-theme="fallen-down"] .bg-blue-500,
[data-theme="fallen-down"] .bg-blue-600 {
  background-color: #FFFF00;
  color: #000000;
}

[data-theme="fallen-down"] .border-blue-400,
[data-theme="fallen-down"] .border-blue-500,
[data-theme="fallen-down"] .border-blue-600 {
  border-color: #FFFF00;
}

/* Override indigo/purple to yellow as well */
[data-theme="fallen-down"] .text-indigo-400,
[data-theme="fallen-down"] .text-indigo-500,
[data-theme="fallen-down"] .bg-indigo-900 {
  color: #FFFF00;
  background-color: transparent;
}

[data-theme="fallen-down"] .border-indigo-400 {
  border-color: #FFFF00;
}

/* Links - yellow like Undertale's save points */
[data-theme="fallen-down"] a {
  color: #FFFF00;
}

[data-theme="fallen-down"] a:hover {
  color: #FFFFFF;
}

/* Hover states */
[data-theme="fallen-down"] .hover\:bg-surface-600:hover {
  background-color: #0a0a0a !important;
}

[data-theme="fallen-down"] .hover\:bg-surface-700:hover {
  background-color: #0a0a0a !important;
}

[data-theme="fallen-down"] .hover\:bg-surface-800:hover {
  background-color: #000000 !important;
}

[data-theme="fallen-down"] .hover\:bg-accent-700:hover {
  background-color: #FFFF00 !important;
  color: #000000 !important;
}

[data-theme="fallen-down"] .hover\:text-surface-100:hover {
  color: #FFFFFF !important;
}

[data-theme="fallen-down"] .hover\:text-accent-400:hover {
  color: #FFFF00 !important;
}

/* Ensure body and root backgrounds are pure black */
[data-theme="fallen-down"],
[data-theme="fallen-down"] body,
[data-theme="fallen-down"] .app-shell,
[data-theme="fallen-down"] main,
[data-theme="fallen-down"] .main-content {
  background-color: #000000 !important;
}

/* Override any remaining slate/blue-tinted backgrounds */
[data-theme="fallen-down"] [class*="bg-slate"],
[data-theme="fallen-down"] [class*="bg-gray"] {
  background-color: #000000 !important;
}

/* Prose/narrative content area - pure black */
[data-theme="fallen-down"] .prose,
[data-theme="fallen-down"] .prose-content,
[data-theme="fallen-down"] article,
[data-theme="fallen-down"] .story-container {
  background-color: #000000 !important;
}

/* Any divs with background colors should be black */
[data-theme="fallen-down"] div[class*="bg-surface"] {
  background-color: #000000 !important;
}

/* Override opacity-modified backgrounds (like bg-surface-800/50) */
[data-theme="fallen-down"] [class*="bg-surface-800\/"],
[data-theme="fallen-down"] [class*="bg-surface-700\/"],
[data-theme="fallen-down"] [class*="bg-surface-900\/"] {
  background-color: rgba(0, 0, 0, 0.5) !important;
}

/* Story entry backgrounds - darker with slight visibility */
[data-theme="fallen-down"] .group.rounded-lg {
  background-color: rgba(20, 20, 20, 0.5) !important;
  border-left-color: #FFFFFF !important;
}

/* Undertale status colors - limited palette */
[data-theme="fallen-down"] .text-green-400 {
  color: #00FF00;
}

[data-theme="fallen-down"] .text-amber-400 {
  color: #FFA500;
}

[data-theme="fallen-down"] .text-red-400 {
  color: #FF0000;
}

[data-theme="fallen-down"] .text-yellow-400 {
  color: #FFFF00;
}

/* Primary button - yellow like FIGHT/ACT buttons */
[data-theme="fallen-down"] .btn-primary {
  background-color: transparent;
  border: 2px solid #FFFF00;
  color: #FFFF00;
}

[data-theme="fallen-down"] .btn-primary:hover {
  background-color: #FFFF00;
  color: #000000;
}

/* Tags and badges - white/yellow only */
[data-theme="fallen-down"] [class*="bg-indigo"],
[data-theme="fallen-down"] [class*="bg-blue"],
[data-theme="fallen-down"] [class*="bg-purple"] {
  background-color: #1a1a1a;
  border: 1px solid #FFFF00;
  color: #FFFF00;
}

/* Checkboxes and toggles */
[data-theme="fallen-down"] input[type="checkbox"]:checked {
  background-color: #FFFF00;
  border-color: #FFFF00;
}

/* Range inputs */
[data-theme="fallen-down"] input[type="range"]::-webkit-slider-thumb {
  background-color: #FFFF00;
}

[data-theme="fallen-down"] input[type="range"]::-moz-range-thumb {
  background-color: #FFFF00;
}
